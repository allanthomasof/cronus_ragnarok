//===== Cronus Script ======================================= 
//= Quest de Templário
//===== By: ================================================== 
//= Made by: Black Dragon
//= Converted by: Shin
//===== Current Version: ===================================== 
//= 3.4
//===== Compatible With: ===================================== 
//= Cronus  SVN
//===== Description: ========================================= 
//= [Aegis Conversion]
//= Job quest for Crusader classes
//= Mudança de Classe para Templário
//===== Additional Comments: ================================= 
//= 2.2 Updated All NPCs to the officials one [Samuray22]
//=	-Based on the ASB 4.0 Package.
//=	-Maybe need be checked the monsters in the test 2 and 4.
//= 2.3 Fixed some bugs that prevented from going further. [SinSloth]
//= 2.4 Updated NPC dialogs using Aegis 10.3 files. [L0ne_W0lf]
//=	- Fixed logic error with job change reward for job 50 swordies.
//=	- Completely redid the 1st and third tests.
//=	- Optimized first four NPC scripts slightly.
//=	- Temporary character variables "@" are now ".@"
//=	- Fixed some indentation.
//= 2.5 Fixed some spelling and grammar in crusader quest. [L0ne_W0lf]
//= 2.6 Fixed bug (about totally blocked baby class), optimized,
//=	made some NPC more unique names: Monster Summon#cr1 [Lupus]
//= 2.7 Fixed Some variables like ".@item", and changed to "@item". [Samuray22]
//= 2.8 Fixed a little minor bug. [Samuray22]
//= 2.9 Minor fixes, typos, an incorrect answer. Thanks to yyCC. [L0ne_W0lf]
//= 2.9a Deleted unused variables. [Samuray22]
//= 3.0 Updated waiting room. (Removes global var) [L0ne_W0lf]
//= 3.1 Adding Hermemton's changes. [L0ne_W0lf]
//= 3.2 Added Quest Log commands. [Kisuka]
//= 3.3	Traduzido para Portugues-Br	[pikachu]
//= 3.4 Revisado [Keoy]
//============================================================


//=============== Lider dos Templário: 1º Teste Recolher Itens============================
prt_castle,45,169,5	script	Lider dos Templários	752,{
	show "[Michael Halig]";
	if (Upper == 1) { //As classes baby estão totalmente bloqueadas... devido ao == 1
		show "Vá e treine para se preparar para a Guerra Santa que está chegando. A vitória estara nas mãos dos que estiverem melhor preparados para recebe-la.";
		next;
		show "[Michael Halig]";
		show "Você não deve ficar aqui, meu amigo.";
		show "Aconselho-te a continuar praticando.";
		close;
	} 
	else if(BaseJob != Job_Swordman) {
		if(BaseJob == Job_Crusader) {
			show "Vá e treine para se preparar para a Guerra Santa que está chegando. A vitória estara nas mãos dos que estiverem melhor preparados para recebe-la.";
			next;
			show "[Michael Halig]";
			show "O Caos um dia surgirá para abalar nosso príncipios de paz, justiça e ordem. Enquanto não acabarmos com o mal e criarmos nosso mundo ideal nós não podemos parar de treinar.";
			close;
		}
		else if(BaseJob == Job_Novice) {
			show "Nós somos Templários,";
			show "guerreiros preparados";
			show "para lutar na Guerra Santa.";
			next;
			show "[Michael Halig]";
			show "Se você deseja se juntar a nós, primeiro você tem que ser um Espadachim e preparar-se...";
			close;
		}
		show "Nós somos Templários,";
		show "guerreiros preparados";
		show "para lutar na Guerra Santa.";
		next;
		show "[Michael Halig]";
		show "Como aconteceu a mil anos atrás, as forças do mal um dia irão atacar, para tentar conquistar o mundo novamente.";
		close;
	} 
	else if(CRUS_Q <= 3 && countitem(1004) && countitem(1009)) {
		show "Ah...";
		show "Vejo que você foi convidado para se tornar um dos Templários. Nós entendemos sua vontade, mas temos que testar suas habilidades.";
		next;
		show "[Michael Halig]";
		show "Fale com Moorenak Miyol que esta treinando na caverna subterrânea do Castelo de Prontera. Vá, e fale com ele primeiro.";
		next;
		delitem 1004, 1;
		delitem 1009, 1;
		set CRUS_Q,4;
		show "[Michael Halig]";
		show "Moorenak e outros como ele vão testar as suas habilidades e ajudar você a encontrar seu caminho. Volte aqui quando você tiver completado os testes deles...";
		close;
	}
	else if(CRUS_Q == 0) {
		show "Nós somos Templários, guerreiros preparados para a Guerra Santa.";
		show "O que traz você";
		show "a este lugar?";
		next;
		if (select("Eu quero me preparar para a Guerra Santa!:Nada em particular.") == 1) {
			show "[Michael Halig]";
			show "Você deseja se tornar";
			show "um Templário...?";
			show "Se juntar a nós não é";
			show "tão facil como parece.";
			next;
			show "[Michael Halig]";
			show "Eu sou Michael Halig. Eu sou um dos muitos Templários que estão se preparando para a Guerra Santa. Nós continuamos treinando com fé e lealdade infinita.";
			next;
			show "[Michael Halig]";
			show "Nós recrutamos Espadachins que expressem fé, ou aqueles que nasceram como guerreiros";
			show "por Odin.";
			next;
			show "[Michael Halig]";
			show "Possuindo o ^3355FFEmblema da Cavalaria^000000 e a ^3355FFMão Divina^000000 é o sinal de que você foi escolhido para se tornar um Templário.";
			next;
			show "[Michael Halig]";
			show "Após obter os itens e passar em nossos testes, você estará pronto para se tornar um Templário.";
			next;
			show "[Michael Halig]";
			show "Eu não sei que tipo de pessoa você é ao certo. Mas";
			show "Vou testa-lo se desejar. Você esta pronto para suportar os testes de preparação para a Guerra Santa?";
			next;
			if (select("Sim, eu estou.:Gostaria de pensar sobre isso.") == 1) {
				if(JobLevel < 40) {
					show "[Michael Halig]";
					show "Espere...";
					show "Você não esta pronto.";
					show "Você precisa estar no";
					show "Nivel de Classe 40 ou mais para se tornar";
					show "um Templário.";
					next;
					show "[Michael Halig]";
					show "Treine mais como um Espadachim e espere você ser chamado. Eu entendo sua intenção, mas no momento, você não pode se juntar a nós.";
					close;
				} 
				if (Skillpoint) {
					show "[Michael Halig]";
					show "Você não terminou de aprender tudo como Espadachim. Use todos os seus pontos de habilidade sobrando e retorne a mim.";
					close;
				}
				show "[Michael Halig]";
				show "Então...";
				show "Vou testa-lo para ver se você esta pronto para se tornar um Templário.";
				next;
				show "[Michael Halig]";
				show "Seu nome é";
				show "" + strcharinfo(0) + "...?";
				show "Vamos ver...";
				next;
				if (countitem(1004) && countitem(1009)) {
					show "[Michael Halig]";
					show "Ah...";
					show "Vejo que você foi chamado para se tornar um Templário. Estamos certos de sua vontade, mas precisamos testar suas capacidades.";
					next;
					show "[Michael Halig]";
					show "Fale com Moorenak Miyol ele está treinando na caverna subterrânea do Castelo de Prontera. Vá, e fale com ele primeiro.";
					next;
					delitem 1004, 1;
					delitem 1009, 1;
					set CRUS_Q,4;
					setquest 3009;
					show "[Michael Halig]";
					show "Moorenak e outros como ele querem testar o limite de suas capacidades e ajudar você a encontrar seu caminho. Retorne a mim quando tiver completado seus testes...";
					close;
				}
				show "[Michael Halig]";
				show "Mmm. Eu não posso dizer se você tem ou não o coração para se tornar um Templário. No entanto, se você tiver vontade, você conseguirá o que é preciso.";
				next;
				show "[Michael Halig]";
				show "Agora...";
				show "O meu teste para você. Traga-me os seguintes itens e mostre-me sua determinação.";
				next;
				show "[Michael Halig]";
				set .@cru_m1,rand(1,3);
				if(.@cru_m1 == 1) {
					set CRUS_Q, 1;
					setquest 3006;
					show "- 10 ^3355FF"+getitemname(957)+"^000000";
					show "- 10 ^3355FF"+getitemname(959)+"^000000";
					show "- 10 ^3355FF"+getitemname(1099)+"^000000";
					show "- 10 ^3355FF"+getitemname(901)+"^000000";
					next;
				}
				else if(.@cru_m1 == 2) {
					set CRUS_Q, 2;
					setquest 3007;
					show "- 10 ^3355FF"+getitemname(932)+"^000000";
					show "- 10 ^3355FF"+getitemname(1043)+"^000000";
					show "- 10 ^3355FF"+getitemname(1098)+"^000000";
					show "- 10 ^3355FF"+getitemname(1094)+"^000000";
					next;
				}
				else {
					set CRUS_Q, 3;
					setquest 3008;
					show "- 10 ^3355FF"+getitemname(958)+"^000000";
					show "- 10 ^3355FF"+getitemname(930)+"^000000";
					show "- 10 ^3355FF"+getitemname(1041)+"^000000";
					show "- 10 ^3355FF"+getitemname(1062)+"^000000";
					next;
				}
				show "[Michael Halig]";
				show "Mostre-me o seu poder, trazendo-me estes itens. Se você conseguir, você estará pronto para o proximo teste. Que Odin lhe proteja.";
				close;
			}
			show "[Michael Halig]";
			show "Ninguém sabe quando a Guerra Santa começará. Temos que nos preparar desde cedo, e não podemos desistir";
			show "do nosso treinamento.";
			next;
			show "[Michael Halig]";
			show "Se você achar que você foi escolhido para participar da Guerra Santa, por favor, volte imediatamente e faça o teste para se tornar";
			show "um Templário.";
			close;
		}
		show "[Michael Halig]";
		if (sex) show "Se você tambem é um homem da espada, treinar constantemente e preparar-se. Ninguém sabe quando a Guerra Santa começará.";
		else show "Como uma mulher de espada, você deve treinar constantemente. Prepare-se, pois ninguém sabe quando a Guerra Santa irá começar.";
		close;
	}
	else if(CRUS_Q >= 1 && CRUS_Q <= 3) {
		show "Você provou sua determinação com o emblema que eu dei para você, ou você possui os itens que provam que você recebeu seu chamado?";
		next;
		switch(CRUS_Q) {
		case 1:
			set @item1, 957;
			set @item2, 959;
			set @item3, 1099;
			set @item4, 901;
			break;
		Case 2:
			set @item1, 932;
			set @item2, 1043;
			set @item3, 1098;
			set @item4, 1094;
			break;
		Case 3:
			set @item1, 958;
			set @item2, 930;
			set @item3, 1041;
			set @item4, 1062;
			break;
		}
		if (countitem(@item1) > 9 && countitem(@item2) > 9 && countitem(@item3) > 9 && countitem(@item4) > 9) {
			show "[Michael Halig]";
			show "Ah, muito bem.";
			show "Você mostrou seu esforço e determinação. Você está pronto para proceder para o próximo teste.";
			next;
			show "[Michael Halig]";
			show "Fale com Moorenak Miyol ele está treinando no calabouço subterrâneo do Castelo de Prontera. Vá, e fale com ele primeiro.";
			next;
			delitem @item1, 10;
			delitem @item2, 10;
			delitem @item3, 10;
			delitem @item4, 10;
			set CRUS_Q, 4;
			if(checkquest(3006) != -1) {
				changequest 3006,3009;
			}
			else if(checkquest(3007) != -1) {
				changequest 3007,3009;
			}
			else {
				changequest 3008,3009;
			}
			show "[Michael Halig]";
			show "Moorenak e outros como ele vão testar suas capacidades e ajudar você a escolher seu caminho. Retorne a mim quando você tiver completado seus testes...";
			close;
		}
		show "[Michael Halig]";
		show "Ah, Você ainda não completou o teste que lhe dei. Traga-me os seguintes itens, e prove a mim que você pode se tornar um Templário...";
		next;
		show "[Michael Halig]";
		show "- 10 ^3355FF"+getitemname(@item1)+"^000000";
		show "- 10 ^3355FF"+getitemname(@item2)+"^000000";
		show "- 10 ^3355FF"+getitemname(@item3)+"^000000";
		show "- 10 ^3355FF"+getitemname(@item4)+"^000000";
		next;
		show "[Michael Halig]";
		show "Se você se esforçar, você conseguirá completar essa tarefa. Que Odin proteja sua jornada.";
		close;
	}
	else if(CRUS_Q == 10) {
		if(SkillPoint) {
			show "Você não terminou de aprender tudo como Espadachim. Use todos os pontos de habilidade restantes, e então volte a falar comigo.";
			close;
		}
		show "Parabéns por completar todos os seus testes. Você esta pronto para lutar ao nosso lado na Guerra Santa como um Templário.";
		next;
		show "[Michael Halig]";
		show "Juntos, vamos vencer a Guerra Santa e derrotar o mal e a tirania!";
		next;
		set .@Joblevel,JobLevel;
		completequest 3015;
		callfunc "Job_Change",Job_Crusader;
		callfunc "F_ClearJobVar";		//clears all job variables for the current player
		show "[Michael Halig]";
		show "Veja...!";
		show "Agora você é um Templário!";
		show "Quando a Guerra Sagrada começar, nós estaremos do mesmo lado para derrotar o mal.";
		next;
		show "[Michael Halig]";
		show "Agora você é";
		show "um de nós!";
		if (sex) show "...Irmão.";
		else show "...Irmã.";
		next;
		if(.@JobLevel != 50) getitem 504, 6;
		else getitem 504, 12;
		show "[Michael Halig]";
		show "E use isso quando você estiver em perigo. Ele te dará forças quando seus ferimentos forem graves.";
		next;
		show "[Michael Halig]";
		show "Nunca esqueça, a Guerra Sagrada está se aproximando. Nós precisamos nos preparar para a maré inevitável do mal que varrera este mundo. Agora, vá e lute pelos nossos princiopios de liberdade e justiça!";
		close;
	}
	show "Parece que você não completou todos os testes. Você não estará pronto para se tornar um Templário enquanto não tiver completado todos os testes.";
	next;
	show "[Michael Halig]";
	show "Retorne a mim quando você tiver completado todos os seus testes. Quando você tiver terminado, você poderá se juntar ao grupo dos melhores Templários.";
	close;
}

//===================== Suffering Man: 2nd Endurance Test ===============================================
prt_castle,164,32,1	script	Homem Angustiado	733,{
	show "[Murnak Mijoul]";
	if(BaseJob != Job_Swordman) {
		if (BaseJob == Job_Crusader) {
			show "Não fique passeando em lugaqr como esse e vá descobrir até onde vai suas forças. O dia que juntaremos nossas mãos na batalha está se aproximando.";
			close;
		}
		else if(BaseJob == Job_Novice) {
			show "Um Aprendiz...?";
			show "Tão novo, e ainda,";
			show "tem tanto potencial.";
			next;
			show "[Murnak Mijoul]";
			show "Deixe-me explicar a você que não sou criminoso. Estou aqui para treinar. Talvez, se você se tornar forte, entenderá.";
			close;
		}
		show "Hm. Você não tem nada para fazer neste lugar. Por favor deixe-o, e não interrompa meu treinamento.";
		close;
	}
	else if(CRUS_Q >= 0 && CRUS_Q <= 3) {
		show "O que você quer...?";
		show "Se você não nem nada neste lugar,";
		show "então por favor deixe-o. Um estado tranquilo na mente é essencial para se treinar...";
		next;
		show "[Murnak Mijoul]";
		show "Desejo melhorar meu senso de serenidade no meu coração para me preparar para a Guerra Santa que está por vir. Então por favor, não me pertube.";
		close;
	}
	else if(CRUS_Q == 4) {
		show "O que é isto...?";
		show "Você tem negocios aqui";
		if (sex) show "comigo, homem da espada?";
		else show "comigo, mulher da espada?";
		next;
		if (select("Eu gostaria de fazer o teste de Templário.:Nada.") == 1) {
			show "[Murnak Mijoul]";
			show "Você deseja se tornar um Templário...? Hm, lutar na Guerra Santa é algo admirável.";
			next;
			show "[Murnak Mijoul]";
			show "Seu nome é";
			show "" + strcharinfo(0) + "...?";
			show "Deixe-me dar";
			show "uma olhada em seu rosto.";
			next;
			if(getequipid(7) != 2608 && getequipid(8) != 2608) {
				show "[Murnak Mijoul]";
				show "Hmm. Você deseja se tornar um Templário, mas não usa um Rosário? Não tenho assuntos com você se você não usa nosso costume.";
				close;
			}
			show "[Murnak Mijoul]";
			show "Hmm...";
			show "Você parece 'mais-ou-menos', mas é jovem e ambicioso. Ambição pode esta contra você se você não agira com paciência.";
			next;
			show "[Murnak Mijoul]";
			show "Não me de razão para duvidar de você, e me mostre sua paciência. Você deve resistir ao meu teste com sua paciência se você deseja se tornar um Templário.";
			next;
			show "[Murnak Mijoul]";
			show "Você pode fazer o teste agora. É muito simples. Tudo que você tem que fazer é andar até o fim do corredor.";
			next;
			show "[Murnak Mijoul]";
			show "Porém...";
			show "Mas você tem que ter uma coisa em mente. Em nenhuma condição você poderá matar os monstros.";
			next;
			set CRUS_Q,5;
			changequest 3009,3010;
			show "[Murnak Mijoul]";
			show "Então...";
			show "Boa Sorte.";
			close2;
			warp "job_cru",98,40;
			end;
		}
		show "[Murnak Mijoul]";
		show "Parece que você tem bastante tempo em suas mãos. Porque não vai fazer algo mais produtivo, como pegar jellopys fora das ruas ou algo assim?";
		close;
	}
	else if(CRUS_Q == 5) {
		show "O que é isso...?";
		show "Você é o Espadachim de antes. O que aconteceu, você falho?";
		next;
		if (select("Deixe-me preparar o teste.:Que tipo de teste foi esse?!") == 1) {
			show "[Murnak Mijoul]";
			show "Eu deixarei você rafazer o teste quantas vezes quizer. Porém se você continuar falhando, tem um problema serio com seu";
			show "estado mental.";
			next;
			if(getequipid(7) != 2608 && getequipid(8) != 2608) {
				show "[Murnak Mijoul]";
				show "Espere...";
				show "Você perdeu seu Rosário? Você não pode deixa-lo em qualquer lugar. Nós somos guerreiros da santidade.";
				next;
				show "[Murnak Mijoul]";
				show "Perder as coisas são atitudes de meros Espadachins. Se você realmente quer refazer o teste, você precisa respeitar as tradições dos Templários.";
				close;
			}
			show "[Murnak Mijoul]";
			show "Seu problema é o habito de atacar monstros no momento que ve um. Você tem que desenvolver a paciência e a resistência.";
			next;
			show "[Murnak Mijoul]";
			show "Apenas concentre-se...";
			show "No seu objetivo apenas e ande até o fim do corredor. É tão simples quanto você pensa";
			show "sobre isso.";
			next;
			show "[Murnak Mijoul]";
			show "Não emportar como você vai fazer, você não pode matar nenhum monstro. Desta vez, você tem que pensar bem antes de sacar sua espada.";
			next;
			set CRUS_Q,5;
			show "[Murnak Mijoul]";
			show "Muito bem...";
			show "Boa Sorte.";
			close2;
			warp "job_cru",98,40;
		}
		show "[Murnak Mijoul]";
		show "Como você pode dizer que não sabe do teste? Com este tipo de atitude, você nunca se tornará um Templário.";
		next;
		show "[Murnak Mijoul]";
		show "Eu entendo que você está um pouco frustrado, mas você tem que superar sua frustração para passar neste teste.";
		close;
	}
	else if(CRUS_Q == 6) {
		show "Hmm, parece que você foi bem. Não deve ter sido muito dificil. Você não tem mais negócios";
		show "comigo.";
		next;
		show "[Murnak Mijoul]";
		show "Para seu próximo teste, vá até Gabriel Valentine no Santuário de Prontera. Bem, nos vemos por ai.";
		close;
	}
	show "Hmmm...";
	show "Você ainda tem testes para completar, para se tornar um Templário, não tem?";
	close;
}

//===================== Gabriel Valentine: 3rd Knowledge Test =================================
prt_church,95,127,3	script	Templário	745,{
	show "[Gabriel Valentine]";
	if(BaseJob != Job_Swordman) {
		if (BaseJob == Job_Crusader) {
			show "Bem vindo, colega Templário.";
			show "Como vai seu treinamento";
			show "bem?";
			next;
			show "[Gabriel Valentine]";
			show "Você não pode esquecer de treinar todos os dias, e preparar-se para o dia da Guerra Santa que está chegando.";
			close;
		}
		else if(BaseJob == Job_Novice) {
			show "Bem vindo, eu sou um Templário.";
			show "Eu estou me preparando para";
			show "a Guerra Santa";
			show "que está por vir.";
			next;
			show "[Gabriel Valentine]";
			show "Se você estiver interessado em se tornar um Templário, você precisa primeiro treinar como um Espadachim. Venha nos visitar depois que você tiver aprendido o suficiente como um Espadachim...";
			next;
			show "[Gabriel Valentine]";
			show "Nós estamos localizados no Palacio Central de Prontera, então se você tiver tempo, não teria problema passar por la.";
			close;
		}
		show "Bem Vindo, nós somos Templários.";
		show "Nós estamos nos preparando para";
		show "a Guerra Santa";
		show "que está por vir.";
		next;
		show "[Gabriel Valentine]";
		show "Espero que você treine para se peparar para o futuro também.";
		close;
	}
	else if(CRUS_Q == 0) {
		show "Bem-vindo. Nós somos Templários.";
		show "Nós estamos nos preparando para a";
		show "previsa Guerra Santa";
		show "que está por vir.";
		next;
		show "[Gabriel Valentine]";
		show "Se você deseja se tornar um Templário, por favor fale com nosso lider no Palacio Central de Prontera.";
		close;
	}
	else if(CRUS_Q == 6) {
		show "Bem-vindo.";
		show "Você foi bem";
		show "nos dolorosos testes?";
		show "Eu vou lhe dar o proximo teste.";
		next;
		show "[Gabriel Valentine]";
		show "Meu nome é Gabriel Valentine. Eu, também, estou me preparando para a Guerra Santa. Por enquanto, eu sou o guarda desta igreja.";
		next;
		show "[Gabriel Valentine]";
		show "Vou testar você para ver se você tem o conhecimento necessário para se tornar um Templário.";
		show "Não podemos ganhar a Guerra Santa apenas balançando nossas espadas.";
		next;
		show "[Gabriel Valentine]";
		show "Farei a";
		show "você 10 perguntas.";
		show "Responda-as corretamente.";
		next;
		goto C_Questions;
	} 
	else if(CRUS_Q == 7) {
		show "Bem vindo de volta~";
		show "Você se preparou";
		show "bem para esse teste?";
		show "Vamos tentar,";
		show "novamente...?";
		next;
		show "[Gabriel Valentine]";
		show "Mai uma vez, eu vou";
		show "fazer 10 perguntas a você";
		show "Ouça com atenção, e";
		show "escolha a resposta correta.";
		next;
C_Questions:
		set .@cru_m,rand(1,3);
		if (.@cru_m == 1) {
			show "[Gabriel Valentine]";
			show "1. Qual o atributo mais efetivo para atacar um Morto-Vivo?";
			next;
			if (select("Neutro:Terra:Morto-Vivo:Sagrado") == 4)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "2. Se o monstro for um Morto-Vivo Nivel 2, quanto de dano a mais o ataque Sagrado dará em comparação com o Fogo?";
			next;
			if (select("25 %:50 %:75 %:100 %") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "3. Qual desses itens não pode ser obtido de um Druida Maligno?";
			next;
			if (select("Chapéu de Monge:Folha de Yggdrasil:Erva Branca:Amuleto ") == 1)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "4. Qual monstro Morto-Vivo";
			show "tem mais HP?";
			next;
			if (select("Carniçal:Esqueleto Prisioneiro:Alma Penada:Zumbi Prisioneiro") == 4) 
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "5. Qual desses montros tem tamanho diferente que os outros?";
			next;
			if (select("Alma Penada:Khalitzburg:Drake:Druida Malígno") == 3)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "6. Qual dessas cartas garante a você tolerancia a ataques da propriedade Morto-Vivo?";
			next;
			if (select("Carta Orc Esqueleto:Carta Orc Zumbi:Carta Carniçal:Carta Esqueleto Operário") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "7. Qual era a relação entre Munak e Bongun antes de falecerem?";
			next;
			if (select("Grande Irmão e Pequena Irmã:Amigos de Infancia da mesma vila:Meio-irmão e irmã:Completamente estranhos") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "8. Qual dos seguintes monstros não é agressivo?";
			next;
			if (select("Soldado Esqueleto:Orc Esqueleto:Esqueleto:Esqueleto Operário") == 3)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "9. Qual o nome do escudo com uma Carta Munak inserida?";
			next;
			if (select("Escudo Energizante:Escudo Escarlate:Escudo Hipnotizante:Escudo de Alga") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "10. Qual desses monstros não derrubam Espólio?";
			next;
			if (select("Munak:Carniçal:Mumia:Soldado Esqueleto") == 1)
				set .@cru_t,.@cru_t+10;
		}
		else if (.@cru_m == 2) {
			show "[Gabriel Valentine]";
			show "1. Qual dos seguintes monstros tem atributo diferente dos outros?";
			next;
			if (select("Carat:Xamã do Vento:Isis:Andarilho") == 3)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";

			show "2. Qual espada é efetiva ao atacar um monstro Demonio?";
			next;
			if (select("Tsurugi Exorcizante:Tsurugi Celestial:Tsurugi Abissal:Tsurugi Nocauteante") == 1)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "3. Qual desses itens NÃO é derrubado pelo Dokebi?";
			next;
			if (select("Minério de Elunium:Martelo de Ouro:Maça Espada:Cajado do Poder") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "4. Qual monstro Demonio tem mais HP?";
			next;
			if (select("Giearth:Magnólia:Dokebi:Marionette") == 4)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "5. Qual desses monstros Demonio é de um tamanho diferente dos outros?";
			next;
			if (select("Ghostring:Sussuro:Deviruchi:Baphomet Jr.") == 1)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "6. Qual escudo reduz o dano de monstros Demonio?";
			next;
			if (select("Escudo do Paraíso:Escudo do Inferno:Escudo Escarlate:Escudo Excelente") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "7. Qual desses atributos é mais efetivo no Xamã do Vento?";
			next;
			if (select("Agua:Terra:Fogo:Vento") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "8. Qual dos monstros é diferente dos outros monstros Demonio?";
			next;
			if (select("Sohee:Isis:Dokebi:Sussurro") == 4)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "9. Qual efeito a Carta Marionete possui?";
			next;
			if (select("Aumenta a defesa contra ataques da propriedade Sombra em 30%:Aumenta a defesa contra ataques de veneno em 30%:Aumenta defesa contra propriedade Fantasma em 30%:Aumenta a Defesa contra ataques Neutros em 30%") == 3)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "10. Qual dessas é uma maneira efetiva para agir ao encontrar um monstro Demonio?";
			next;
			if (select("Gritar, 'Mal, va embora!':Oferecer sua alma e fazer um acordo.:Colocar Agua Benta na arma e atacar.:Colocar um chapéu de Deviruchi.") == 3)
				set .@cru_t,.@cru_t+10;
		}
		else {
			show "[Gabriel Valentine]";
			show "1. Qual o nivel de 'Proteção Divina' é necessário para aprender 'Flage do Mal'?";
			next;
			if (select("Nivel 1:Nivel 2:Nivel 3:Nivel 4") == 3)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "2. Se sua INT for 30, incluindo bonus de INT dos equipamentos, no nível 55, quanto de HP a habilidade Cura Nivel 5 recupera?";
			next;
			if (select("396:440:484:528") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "3. Com nivel 7 de Proteção Divina, em quanto sua defesa é almentada sobre Morto-Vivo?";
			next;
			if (select("21:22:23:24") == 1)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "4. Qual dessas lanças pode atacar o Pesadelo Sombrio, quando esta envolvido no atributo Fantasma?";
			next;
			if (select("Lança:Guisarme-Bico:Foice:Zephyrus") == 4)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "5. Qual o nivel de 'Cura' necessário para aprender 'Medicar'?";
			next;
			if (select("Nivel 1:Nivel 2:Nivel 3:Nivel 4") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "6. Qual a velocidade de ataque quando Perícia em Montario Nivel 3 é aprendido?";
			next;
			if (select("70 % da velocidade normal:80 % da velocidade normal:90 % da velocidade normal:100 % da velocidade normal") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "7. Qual dos seguintes não esta correto para a habilidade Flagelo do Mal?";
			next;
			if (select("Aumenta o dano em Morto-Vivo:Apenas Noviços podem aprender a habilidade:Quando master, + 30 aumenta:Habilidade Passiva") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "8. Quanto de SP a habilidade Cura Nivel 7 usa?";
			next;
			if (select("30:31:33:35") == 2)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "9. Qual destes status";
			show "não pode ser curado com Medicar?";
			next;
			if (select("Maldição:Silenciamento:Caos:Cegueira") == 1)
				set .@cru_t,.@cru_t+10;

			show "[Gabriel Valentine]";
			show "10. O que melhor descreve um Templário?";
			next;
			if (select("Se preparando para o matrimônio.:Se preparando para a Guerra Santa.:Se preparando para uma consumação.:Um preparador de poções.") == 2)
				set .@cru_t,.@cru_t+10;

		}
		show "[Gabriel Valentine]";
		show "Bom trabalho~";
		show "Bem, primeiro deixe-me";
		show "dar uma olhada nos resultados.";
		next;
		show "[Gabriel Valentine]";
		show " A Pontuação de " + strcharinfo(0) + "";
		show "é " + .@cru_t + " pontos...";
		if(.@cru_t == 100) {
			set CRUS_Q, 8;
			changequest 3011,3013;
			show "Super! Agora, é hora";
			show "de você pegar o proximo teste.";
			next;
			show "[Gabriel Valentine]";
			show "Vá para o Castelo de Prontera";
			show "e fale com Bliant Piyord.";
			show "Eu vou informa-lo";
			show "que ele fará seu proximo teste.";
			close;
		}
		else if(.@cru_t == 90) {
			set CRUS_Q, 8;
			changequest 3011,3013;
			show "Muito bem~ Agora, é hora de";
			show "você pegar seu proximo teste.";
			next;
			show "[Gabriel Valentine]";
			show "Vá para o Castelo de Prontera";
			show "e fale com Bliant Piyord.";
			show "Vou informa-lo que ele";
			show "fará seu proximo teste.";
			close;
		}
		else if (.@cru_t == 80 && CRUS_Q == 7) {
			set CRUS_Q,8;
			changequest 3011,3013;
			show "Parece que você se preparou muito para o teste, então deixarei você passar desta vez.";
			show "Vá pegar seu proximo teste agora.";
			next;
			show "[Gabriel Valentine]";
			show "Vá para o Castelo de Prontera e fale com Bliant Piyord.";
			show "Eu vou informa-lo para preparar seu proximo teste.";
			close;
		}
		set CRUS_Q,7;
		if(checkquest(3011) != -1) {
			changequest 3011,3012;
		}
		show "Hmmm... Que pena.";
		show "Vá estudar mais e";
		show "faça este teste novamente, okay?";
		next;
		show "[Gabriel Valentine]";
		show "Não se estresse, você precisa saber muito para passar neste teste. De qualquer forma, Eu estarei esperando bem aqui. Quando você achar que esta pronto, volte aqui, esta bem?";
		close;
	}
	else if(CRUS_Q == 8 || CRUS_Q == 9) {
		show "Pensei ter dito para, você ir ao Castelo de Prontera e falar com Bliant Piyord para pegar seu proximo teste. Boa sorte, e torne-se um Templário logo, esta bem?";
		close;
	}
	else if(CRUS_Q == 10) {
		show "O que você esta fazendo aqui? Você ja completou todos os testes. Vá falar com nosso lider, você está pronto para se tornar um Templário agora.";
		next;
		show "[Gabriel Valentine]";
		show "Você logo estará pronto para se juntar a nós para preparar para a Guerra Santa. Continue vivendo com fé após se tornar um Templário.";
		close;
	}
	show "Mmm...?";
	show "Parece que você";
	show "esta se tornando um Templário...";
	show "Mas, não é minha vez";
	show "de testa-lo ainda.";
	next;
	show "[Gabriel Valentine]";
	show "Vá e complete os outros testes,";
	show "e venha até mim após termina-los.";
	show "Então,";
	show "Vejo você mais tarde~";
	close;
}

//===================== Crusader: 4th Purification Test =====================================================
prt_castle,35,151,5	script	Patron Knight	751,{
	show "[Bliant Piyord]";
	show "Bem-Vindo.";
	if(BaseJob != Job_Swordman) {
		if(BaseJob == Job_Crusader) {
			show "Como vai";
			show "seu treinamento?";
			next;
			show "[Bliant Piyord]";
			show "Desenvolva sua fé. Através da fé nasce a força e a disciplina. Dia após dia, treine para se tornar um grande Templário.";
			close;
		}
		else if(BaseJob == Job_Novice) {
			show "Nós somos Templário,";
			show "guerreiros sagrados preparados para a grande Guerra Santa que está vindo.";
			next;
			show "[Bliant Piyord]";
			show "Você esta interessado";
			show "em se tornar um Templário?";
			show "Nós estamos sempre esperando";
			show "por mais homem e mulheres";
			show "capazes de se juntar a nós.";
			next;
			show "[Bliant Piyord]";
			show "Treine como um Espadachim e fale com nós quando achar que está pronto. Se você for chamado por Odin para se tornar um Templário, você se tornará.";
			close;
		}
		show "Nós somos Templários,";
		show "guerreiros santos preparados para a grande Guerra Santa que está por vir.";
		next;
		show "[Bliant Piyord]";
		show "Neste tempo relativamente quieto, nosso treinamento é incessante. Nós estamos prontos para o dia que as sombras aparecerem novamente...";
		close;
	}
	else if(CRUS_Q == 0) {
		show "Nós somos Templários,";
		show "guerreiros santos preparados para a grande Guerra Santa que está por vir.";
		next;
		show "[Bliant Piyord]";
		show "Você esta interessado";
		show "em se tornar um Templário?";
		show "Nós sempre estamos esperando";
		show "por mais homens e mulheres";
		show "capazes de se juntar a nós.";
		next;
		show "[Bliant Piyord]";
		show "Para se tornar um Templário, você precisa estar no Nivel de Classe 40. Para mais detalhes, por favor fale com nosso lider.";
		next;
		show "[Bliant Piyord]";
		show "Que Odin";
		show "esteja com você...";
		close;
	}
	else if(CRUS_Q == 8 || CRUS_Q == 9) {
		if (CRUS_Q == 8) {
			show "É bom";
			show "falar com você.";
			show "Agora é a hora";
			show "do seu teste final.";
			next;
			show "[Bliant Piyord]";
			show "Meu nome é Bliant Piyord e eu também, estou me preparando para a Guerra Santa. Deve ter sido muito dificil chegar até aqui";
			next;
			show "[Bliant Piyord]";
			show "Este teste, avalia suas habildiade em batalha. Apenas quem possui uma boa habilidade de luta pode se tornar um Templário.";
			next;
			show "[Bliant Piyord]";
			show "Para receber o teste de batalha, traga-me";
			show "1 ^3355FFAgua Benta^000000. Será usada para purificar seu interior para receber o teste.";
			if(checkquest(3013) != -1) {
				changequest 3013,3014;
			}
			next;
			show "[Bliant Piyord]";
			show "Muito bem...";
			show "Diga-me";
			show "está tudo bem?";
			show "Ou você precisa de tempo";
			show "para se preparar?";
		}
		else {
			show "Você esta preparado";
			show "para seu teste agora?";
			next;
			show "[Bliant Piyord]";
			show "Você quer fazer agora, ou quer esperar para se preparar?";
		}
		next;
		if (select("Eu quero começar.:Me de um tempo para me preparar.") == 1) {
			if(getequipid(7) != 2608 && getequipid(8) != 2608) {
				show "[Bliant Piyord]";
				show "Espere um segundo, você não tem um Rosário equipado. Um Templário, sempre tem que ter um Rosário em sua pessoa.";
				next;
				show "[Bliant Piyord]";
				show "Volte e pegue";
				show "seu teste quando tiver";
				show "um Rosário.";
				close;
			}
			else if(countitem(523) < 1) {
				show "[Bliant Piyord]";
				show "Para o teste de batalha, por favor prepare uma ^3355FFAgua Sagrada^000000.";
				show "Eu purifico os candidatos.";
				next;
				show "[Bliant Piyord]";
				show "Pegue os preparativos e volte.";
				show "Estarei esperando por você.";
				close;
			}
			delitem 523, 1; //Agua Benta
			show "[Bliant Piyord]";
			show "Bem, Vou iniciar";
			show "o teste. Você";
			show "está purificado com a";
			show "Agua Benta que preparou.";
			next;
			show "[Bliant Piyord]";
			show "...............";
			next;
			show "[Bliant Piyord]";
			show "Vamos la.";
			show "Vá e entre na sala";
			show "de espera.";
			show "Derrote os monstros";
			show "que aparecerem";
			show "nos 4 estágios.";
			close2;
			warp "job_cru",24,169;
			end;
		}
		show "[Bliant Piyord]";
		show "Prepare 1 ^3355FFAgua Benta^000000 para receber o teste de batalha. Ela vai ser usada para purificar seu interior para receber o teste.";
		next;
		show "[Bliant Piyord]";
		show "Volte e pegue";
		show "o teste após";
		show "você ter preparado";
		show "1 Agua Benta.";
		show "Estarei aqui";
		show "esperando.";
		close;
	} 
	else if(CRUS_Q == 10) {
		show "Muito Bem.";
		show "Você completou";
		show "todos os testes para";
		show "se tornar um Templário.";
		next;
		show "[Bliant Piyord]";
		show "Vá e fale com nosso";
		show "lider.";
		show "Nós damos boas vindas para você";
		show "por se juntar a nos";
		show "para se preparar";
		show "para a Guerra Santa.";
		close;
	}
	show "Você não é o unico no teste para se tornar um Templário?";
	next;
	show "[Bliant Piyord]";
	show "Esta não é sua vez";
	show "de pegar o meu teste.";
	show "Volte quando fazer todos";
	show "os outros testes.";
	next;
	show "[Bliant Piyord]";
	show "Vejo você depois.";
	show "Que Odin abeçoe";
	show "você.";
	close;
}



//=== Actual tests ========================================
//=== Endurance Test ======================================
job_cru,1,1,1	script	Summoner#cr1	-1,{
OnTimer300000:
	donpcevent "Summoner#cr1::OnReset";
	end;

OnTimer300500:
	donpcevent "Summoner#cr1::OnEnd";
	end;

OnTimer301000:
	donpcevent "Summoner#cr1::OnStart";
	stopnpctimer;
	end;

OnInit:
	enablenpc "Summoner#cr1";
	monster "job_cru",94,45,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,55,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,65,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,75,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,85,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,95,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,45,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,55,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,65,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,75,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,85,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,95,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	initnpctimer;
	end;

OnStart:
	enablenpc "Summoner#cr1";
	monster "job_cru",94,45,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,55,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,65,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,75,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,85,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",94,95,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,45,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,55,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,65,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,75,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,85,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	monster "job_cru",101,95,"Mandragora",1020,1,"Summoner#cr1::OnDead";
	initnpctimer;
	end;

OnReset:
	killmonster "job_cru","Summoner#cr1::OnDead";
	end;

OnEnd:
	disablenpc "Summoner#cr1";
	end;

OnDead:
	warp "prt_fild05",353,251;
	end;
}

job_cru,1,2,1	script	Summoner#cr2	-1,{
OnTimer345000:
	donpcevent "Summoner#cr2::OnReset";
	end;

OnTimer345500:
	donpcevent "Summoner#cr2::OnEnd";
	end;

OnTimer346000:
	donpcevent "Summoner#cr2::OnStart";
	stopnpctimer;
	end;

OnInit:
	enablenpc "Summoner#cr2";
	monster "job_cru",98,50,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",92,60,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",104,60,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",98,70,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",92,80,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",104,90,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",98,90,"Flora",1118,1,"Summoner#cr2::OnDead";
	initnpctimer;
	end;

OnStart:
	enablenpc "Summoner#cr2";
	monster "job_cru",98,50,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",92,60,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",104,60,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",98,70,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",92,80,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",104,90,"Flora",1118,1,"Summoner#cr2::OnDead";
	monster "job_cru",98,90,"Flora",1118,1,"Summoner#cr2::OnDead";
	initnpctimer;
	end;

OnReset:
	killmonster "job_cru","Summoner#cr2::OnDead";
	end;

OnEnd:
	disablenpc "Summoner#cr2";
	end;

OnDead:
	warp "prt_fild05",353,251;
	end;
}

job_cru,1,3,1	script	Summoner#cr3	-1,{
OnTimer345000:
	donpcevent "Summoner#cr3::OnReset";
	end;

OnTimer345500:
	donpcevent "Summoner#cr3::OnEnd";
	end;

OnTimer346000:
	donpcevent "Summoner#cr3::OnStart";
	stopnpctimer;
	end;

OnInit:
	enablenpc "Summoner#cr3";
	monster "job_cru",92,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",92,70,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,70,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,80,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",92,90,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,90,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	Initnpctimer;
	end;

OnStart:
	enablenpc "Summoner#cr3";
	monster "job_cru",92,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,50,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",92,70,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,70,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,80,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",92,90,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	monster "job_cru",104,90,"Greatest General",1277,1,"Summoner#cr3::OnDead";
	Initnpctimer;
	end;

OnReset:
	killmonster "job_cru","Summoner#cr3::OnDead";
	end;

OnEnd:
	disablenpc "Summoner#cr3";
	end;

OnDead:
	warp "prt_fild05",353,251;
	end;
}

job_cru,1,4,1	script	Summoner#cr4	-1,{
OnTimer345000:
	donpcevent "Summoner#cr4::OnReset";
	end;

OnTimer345500:
	donpcevent "Summoner#cr4::OnEnd";
	end;

OnTimer346000:
	donpcevent "Summoner#cr4::OnStart";
	stopnpctimer;
	end;

OnInit:
	enablenpc "Summoner#cr4";
	monster "job_cru",98,50,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,55,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,60,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,65,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,70,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,75,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,80,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,85,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,90,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",90,34,"Mushroom",1182,1,"Summoner#cr3::OnDead";
	monster "job_cru",105,34,"Mushroom",1182,1,"Summoner#cr3::OnDead";
	initnpctimer;
	end;

OnStart:
	enablenpc "Summoner#cr4";
	monster "job_cru",98,50,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,55,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,60,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,65,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,70,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,75,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,80,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,85,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",98,90,"Familiar",1005,1,"Summoner#cr3::OnDead";
	monster "job_cru",90,34,"Mushroom",1182,1,"Summoner#cr3::OnDead";
	monster "job_cru",105,34,"Mushroom",1182,1,"Summoner#cr3::OnDead";
	initnpctimer;
	end;

OnReset:
	killmonster "job_cru","Summoner#cr4::OnDead";
	end;

OnEnd:
	disablenpc "Summoner#cr4";
	end;

OnDead:
	warp "prt_fild05",353,251;
	end;
}


job_cru,98,105,4	script	 Summoner#cr5	45,3,3,{
OnTouch:
	set CRUS_Q,6;
	changequest 3010,3011;
	warp "prt_castle",164,28;
	end;
}

//=== Purification Test ===================================
job_cru,24,187,4	script	Patron Knight#2	751,{
	show "[Bliant Piyord]";
	show "Bem-vindo.";
	show "Você fará";
	show "o ultimo teste aqui.";
	show "Quando você estiver pronto para";
	show "o teste, entre";
	show "na sala de espera.";
	next;
	show "[Bliant Piyord]";
	show "Apenas uma pessoa por vez pode fazer o teste. Se alguem ja estiver sendo testado, por favor espere até que a area de teste esteja liberada novamente.";
	next;
	show "[Bliant Piyord]";
	show "Cada pessoa tem 4 minutos para completar o teste. Se você quizer sair no meio do teste, por favor desconecte do game.";
	close;
}

job_cru,24,187,2	script	Waiting Room#cr1	700,{
	end;

OnInit:
	disablenpc "Waiting Room#cr1";
	waitingroom "Waiting Room",20,"Waiting Room#cr1::OnStartArena",1;
	enablewaitingroomevent;
	end;

OnStartArena:
	warpwaitingpc "job_cru",168,21;
	donpcevent "Monster Summon#cr0::OnStart";
	disablewaitingroomevent;
	end;

OnStart:
	enablewaitingroomevent;
	end;
}

job_cru,168,17,0	script	Zombie Guide	-1,2,2,{
OnTouch:
	show "[Bliant Piyord]";
	show "Vá em frente e derrote todos";
	show "os monstros que aparecerem.";
	show "Você nçao poderá continuar se ainda";
	show "tiver algum sobrando.";
	next;
	show "[Bliant Piyord]";
	show "Você tem";
	show "4 minutos. Vá em frente";
	show "e de o seu melhor...";
	close;
}

job_cru,2,1,1	script	Monster Summon#cr0	-1,{
OnInit:
	disablenpc "Monster Summon#cr0";
	end;

OnStart:
	set .MyMonsterCount,0;
	enablenpc "Monster Summon#cr0";
	donpcevent "Monster Summon#cr1::OnStart";
	donpcevent "Monster Summon#cr2::OnStart";
	donpcevent "Monster Summon#cr3::OnStart";
	donpcevent "Monster Summon#cr4::OnStart";
	donpcevent "Monster Summon#cr6::OnStart";
	end;

OnMonster1:
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,45,"Zumbi",1015,1,"Monster Summon#cr0::OnDead";
	end;

OnMonster2:
	monster "job_cru",168,80,"Soldado Esqueleto",1028,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,80,"Soldado Esqueleto",1028,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,80,"Soldado Esqueleto",1028,1,"Monster Summon#cr0::OnDead";
	end;

OnMonster3:
	monster "job_cru",168,110,"Arqueiro Esqueleto",1016,1,"Monster Summon#cr0::OnDead";
	monster "job_cru",168,115,"Mumia",1041,1,"Monster Summon#cr0::OnDead";
	end;

OnDead:
	set .MyMonsterCount,.MyMonsterCount+1;
	if (.MyMonsterCount >= 10) {
		set CRUS_Q,10;
		changequest 3014,3015;
	}
	end;

OnEnd:
	disablenpc "Monster Summon#cr0";
	end;

OnReset:
	killmonster "job_cru","Monster Summon#cr0::OnDead";
	end;
}

job_cru,168,45,0	script	Monster Summon#cr1	-1,15,1,{
OnInit:
	disablenpc "Monster Summon#cr1";
	end;

OnTouch:
	donpcevent "Monster Summon#cr0::OnMonster1";
	donpcevent "Monster Summon#cr1::OnEnd";
	end;

OnStart:
	enablenpc "Monster Summon#cr1";
	end;

OnEnd:
	disablenpc "Monster Summon#cr1";
	end;
}

job_cru,168,80,0	script	Monster Summon#cr2	-1,15,1,{
OnInit:
	disablenpc "Monster Summon#cr2";
	end;

OnTouch:
	donpcevent "Monster Summon#cr0::OnMonster2";
	donpcevent "Monster Summon#cr2::OnEnd";
	end;

OnStart:
	enablenpc "Monster Summon#cr2";
	end;

OnEnd:
	disablenpc "Monster Summon#cr2";
	end;
}

job_cru,165,115,0	script	Monster Summon#cr3	-1,15,1,{
OnInit:
	disablenpc "Monster Summon#cr3";
	end;

OnTouch:
	donpcevent "Monster Summon#cr0::OnMonster3";
	donpcevent "Monster Summon#cr3::OnEnd";
	end;

OnStart:
	enablenpc "Monster Summon#cr3";
	end;

OnEnd:
	disablenpc "Monster Summon#cr3";
	end;
}

job_cru,168,150,0	script	Monster Summon#cr4	-1,15,1,{
OnInit:
	disablenpc "Monster Summon#cr4";
	end;

OnTouch:
	monster "job_cru",168,150,strcharinfo(0),1036,1,"Monster Summon#cr4-a::OnDead";
	donpcevent "Monster Summon#cr4::OnEnd";
	end;

OnDead:
	donpcevent "Monster Summon#cr5::OnStart";
	end;

OnStart:
	enablenpc "Monster Summon#cr4";
	end;

OnReset:
	killmonster "job_cru","Monster Summon#cr4-a::OnDead";
	end;

OnEnd:
	disablenpc "Monster Summon#cr4";
	end;

}

job_cru,168,150,0	script	Monster Summon#cr4-a	-1,{
OnDead:
	donpcevent "Monster Summon#cr5::OnStart";
	end;
}

job_cru,168,180,4	script	Monster Summon#cr5	45,3,3,{
OnInit:
	disablenpc "Monster Summon#cr5";
	end;

OnTouch:
	warp "prt_castle",35,147;
	donpcevent "Monster Summon#cr0::OnReset";
	donpcevent "Monster Summon#cr4::OnReset";
	donpcevent "Monster Summon#cr0::OnEnd";
	donpcevent "Monster Summon#cr4::OnEnd";
	donpcevent "Monster Summon#cr5::OnEnd";
	donpcevent "Monster Summon#cr6::OnStop";
	donpcevent "Monster Summon#cr6::OnEnd";
	donpcevent "Waiting Room#cr1::OnStart";
	end;

OnStart:
	enablenpc "Monster Summon#cr5";
	end;

OnEnd:
	disablenpc "Monster Summon#cr5";
	end;
}

job_cru,2,2,1	script	Monster Summon#cr6	-1,{
OnTimer241000:
	areawarp "job_cru",160,14,175,178,"job_cru",24,169;
	donpcevent "Monster Summon#cr0::OnReset";
	donpcevent "Monster Summon#cr4::OnReset";
	donpcevent "Monster Summon#cr0::OnEnd";
	donpcevent "Monster Summon#cr4::OnEnd";
	donpcevent "Monster Summon#cr5::OnEnd";
	donpcevent "Monster Summon#cr6::OnStop";
	donpcevent "Monster Summon#cr6::OnEnd";
	donpcevent "Waiting Room#cr1::OnStart";
	end;

OnInit:
	disablenpc "Monster Summon#cr6";
	end;

OnStart:
	enablenpc "Monster Summon#cr6";
	initnpctimer;
	end;

OnEnd:
	disablenpc "Monster Summon#cr6";
	end;

OnStop:
	stopnpctimer;
	end;
}

//============================================================ 
// mapflag
//============================================================ 
job_cru	mapflag	nomemo
job_cru	mapflag	noteleport
job_cru	mapflag	nosave	SavePoint
job_cru	mapflag	nopenalty
job_cru	mapflag	nobranch
job_cru	mapflag	noexp
job_cru	mapflag	noloot

//============================================================ 
// Old changelog
//============================================================ 
//= Need optimalization and fixing
//= thanks to Komurka, KiLLaLeN, Lupus (fixing error)
//= just a temp Job Quest
//= 1.2 minor fix of announcement by Freya people
//= 1.3 Added Baby Class Support, fixed 40/50 lvl item reward
//=     also fixed too common script names [Lupus]
//= 1.3a fixed "dead lock" bugs [Lupus]
//= 1.3b changed monsters ID in patience test [Komurka]
//= 1.4 Fixed Job Level parameters mix-up. [massdriller] (Thanks to Komurka)
//= 1.5 Fixed possible EXP abuse [Lupus]
//= 1.6 Added a func which prevent advanced classes passing
//=     2nd Job Quests again. It also guides adv classes where
//=     to go. [Lupus]
//= 1.7 Updated names and required items, Chivalry Emblem +
//=     Hand of God allow to skip item gathering [DracoRPG]
//= 2.0 Changed numbers to constants. [Vicious]
//= 2.1 Fixed endless loop, wrong condition check [Lupus]
//=	also changed all job numbers to constants, fixed logic